<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show do Milh√£o - Semana da Qualidade</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ===== RESET E CONFIGURA√á√ïES GLOBAIS ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c2e 0%, #1a1a3e 50%, #2d2d5a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ===== EFEITOS DE FUNDO ===== */
        .bg-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: #ffd700;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 15s infinite linear;
        }

        .particle:nth-child(1) {
            width: 100px;
            height: 100px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .particle:nth-child(2) {
            width: 150px;
            height: 150px;
            top: 60%;
            right: 10%;
            animation-delay: -5s;
        }

        .particle:nth-child(3) {
            width: 80px;
            height: 80px;
            bottom: 30%;
            left: 20%;
            animation-delay: -10s;
        }

        .particle:nth-child(4) {
            width: 120px;
            height: 120px;
            top: 40%;
            right: 20%;
            animation-delay: -7s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.1;
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
                opacity: 0.2;
            }
        }

        /* ===== CONTAINER PRINCIPAL ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* ===== CABE√áALHO ===== */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-top: 40px;
        }

        .title-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            display: inline-block;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 3.5em;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ff6b00, #ffd700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: shine 3s ease-in-out infinite;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        @keyframes shine {
            0%, 100% {
                background-position: 0% 50%;
                text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            }
            50% {
                background-position: 100% 50%;
                text-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            }
        }

        .subtitle {
            font-size: 1.3em;
            color: #b8b8b8;
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* ===== TELA DE IN√çCIO ===== */
        .start-screen {
            text-align: center;
            padding: 60px 40px;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .start-title {
            font-size: 2.5em;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .start-description {
            font-size: 1.2em;
            color: #b8b8b8;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .game-rules {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: left;
        }

        .rules-title {
            color: #ffd700;
            font-size: 1.3em;
            margin-bottom: 15px;
            text-align: center;
        }

        .rules-list {
            list-style: none;
            padding: 0;
        }

        .rules-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .rules-list li:before {
            content: "üéØ";
            position: absolute;
            left: 0;
        }

        /* ===== INFO DO JOGO ===== */
        .game-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #ffd700;
        }

        .score {
            font-weight: bold;
            font-size: 1.3em;
        }

        .level-indicator {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 15px;
            font-size: 0.9em;
        }

        .level-facil {
            background: #00ff88;
            color: #1a1a3e;
        }

        .level-medio {
            background: #ffd700;
            color: #1a1a3e;
        }

        .level-dificil {
            background: #ff4444;
            color: white;
        }

        /* ===== √ÅREA DO JOGO ===== */
        .game-area {
            max-width: 900px;
            margin: 0 auto;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 50px 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent, 
                #ffd700, 
                transparent);
            animation: scanline 2s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ===== PERGUNTA ===== */
        .question {
            font-size: 1.6em;
            margin-bottom: 40px;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.5;
        }

        .question h2 {
            font-weight: 400;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        /* ===== GRID DE OP√á√ïES ===== */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            max-width: 700px;
            margin: 0 auto;
        }

        .option-btn {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.15) 0%, 
                rgba(138, 43, 226, 0.1) 100%);
            border: 2px solid rgba(255, 215, 0, 0.3);
            color: #ffffff;
            padding: 25px 20px 25px 60px;
            border-radius: 15px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-align: left;
            font-weight: 500;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .option-btn::before {
            content: attr(data-letter);
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #ffd700;
            font-size: 0.9em;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.25) 0%, 
                rgba(138, 43, 226, 0.2) 100%);
            border-color: #ffd700;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 
                0 10px 25px rgba(255, 215, 0, 0.3),
                0 0 30px rgba(255, 215, 0, 0.2);
        }

        /* ===== TELA DE RESULTADO ===== */
        .result-screen {
            text-align: center;
            padding: 50px;
        }

        .result-title {
            font-size: 3em;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .result-message {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #ffffff;
        }

        .result-score {
            font-size: 2em;
            color: #00ff88;
            margin-bottom: 30px;
            font-weight: bold;
        }

        /* ===== BOT√ïES ===== */
        .actions {
            text-align: center;
            margin-top: 30px;
        }

        .start-btn, .admin-btn, .restart-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #1a1a3e;
            text-decoration: none;
            padding: 18px 35px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.4s ease;
            box-shadow: 
                0 8px 25px rgba(255, 215, 0, 0.4),
                0 0 20px rgba(255, 140, 0, 0.3);
            border: none;
            cursor: pointer;
            margin: 0 10px;
        }

        .start-btn {
            background: linear-gradient(135deg, #00ff88, #00cc66);
            font-size: 1.3em;
            padding: 20px 40px;
        }

        .restart-btn {
            background: linear-gradient(135deg, #00ff88, #00cc66);
        }

        .start-btn:hover, .admin-btn:hover, .restart-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 12px 35px rgba(255, 215, 0, 0.6),
                0 0 30px rgba(255, 140, 0, 0.4);
            color: #1a1a3e;
        }

        .btn-icon {
            font-size: 1.2em;
        }

        /* ===== ESTADOS DAS RESPOSTAS ===== */
        .correct {
            background: linear-gradient(135deg, 
                rgba(0, 255, 136, 0.3) 0%, 
                rgba(0, 200, 83, 0.4) 100%) !important;
            border-color: #00ff88 !important;
            animation: correctPulse 0.6s ease-in-out;
        }

        @keyframes correctPulse {
            0%, 100% { 
                box-shadow: 
                    0 0 20px rgba(0, 255, 136, 0.4),
                    0 0 40px rgba(0, 255, 136, 0.2);
            }
            50% { 
                box-shadow: 
                    0 0 30px rgba(0, 255, 136, 0.8),
                    0 0 60px rgba(0, 255, 136, 0.4);
            }
        }

        .wrong {
            background: linear-gradient(135deg, 
                rgba(255, 68, 68, 0.3) 0%, 
                rgba(220, 20, 60, 0.4) 100%) !important;
            border-color: #ff4444 !important;
            animation: wrongShake 0.5s ease-in-out;
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        /* ===== RESPONSIVIDADE ===== */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .main-title {
                font-size: 2.2em;
            }
            
            .start-screen {
                padding: 40px 20px;
                margin: 0 10px 20px 10px;
            }
            
            .question-card {
                padding: 30px 20px;
                margin: 0 10px 20px 10px;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .question {
                font-size: 1.3em;
            }
            
            .option-btn {
                padding: 20px 15px 20px 50px;
                font-size: 1em;
            }
            
            .start-btn, .admin-btn, .restart-btn {
                padding: 15px 25px;
                font-size: 1em;
                margin: 5px;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 1.8em;
            }
            
            .subtitle {
                font-size: 1em;
            }
            
            .start-screen {
                padding: 30px 15px;
            }
            
            .question-card {
                padding: 25px 15px;
            }
            
            .question {
                font-size: 1.1em;
            }
            
            .option-btn {
                padding: 18px 12px 18px 45px;
                font-size: 0.9em;
            }
            
            .option-btn::before {
                width: 30px;
                height: 30px;
                left: 15px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <!-- Efeitos de fundo -->
    <div class="bg-effects">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <div class="container">
        <header class="header">
            <div class="title-container">
                <h1 class="main-title">SHOW DO MILH√ÉO</h1>
                <p class="subtitle">Semana da Qualidade</p>
            </div>
        </header>

        <!-- Tela de In√≠cio (SEMPRE VIS√çVEL NO IN√çCIO) -->
        <div id="startScreen" class="start-screen">
            <h2 class="start-title">üéÆ Bem-vindo ao Show do Milh√£o! üéÆ</h2>
            <p class="start-description">
                Teste seus conhecimentos sobre qualidade e seguran√ßa de alimentos neste desafio emocionante!
            </p>
            
            <div class="game-rules">
                <h3 class="rules-title">üìã Como Jogar:</h3>
                <ul class="rules-list">
                    <li><strong>10 perguntas</strong> por jogo (3 F√°ceis, 4 M√©dias, 3 Dif√≠ceis)</li>
                    <li>Responda clicando na alternativa correta</li>
                    <li>Cada acerto vale 1 ponto</li>
                    <li>Acertando todas as 10 perguntas, voc√™ VENCE!</li>
                    <li>Use o bot√£o "Adicionar/Editar Perguntas" para personalizar</li>
                </ul>
            </div>

            <div class="actions">
                <button class="start-btn" onclick="startGame()">
                    üöÄ Iniciar Jogo
                </button>
                <a href="admin.html" class="admin-btn">
                    ‚öôÔ∏è Adicionar/Editar Perguntas
                </a>
            </div>
        </div>

        <!-- Informa√ß√µes do jogo (APENAS DURANTE O JOGO) -->
        <div class="game-info" id="gameInfo" style="display: none;">
            <div class="score">Pergunta: <span id="currentQuestion">1</span>/10 | Acertos: <span id="score">0</span></div>
            <div class="level-indicator" id="levelIndicator">F√°cil</div>
        </div>

        <main class="game-area">
            <!-- Tela do jogo (APENAS DURANTE O JOGO) -->
            <div id="gameScreen" style="display: none;">
                <div class="question-card">
                    <div id="question" class="question">
                        <h2>Carregando perguntas...</h2>
                    </div>
                    <div id="options" class="options-grid">
                        <!-- Op√ß√µes ser√£o inseridas aqui -->
                    </div>
                </div>
            </div>

            <!-- Tela de resultado (APENAS NO FINAL) -->
            <div id="resultScreen" class="result-screen" style="display: none;">
                <h2 class="result-title" id="resultTitle">Parab√©ns!</h2>
                <div class="result-message" id="resultMessage">Voc√™ completou o desafio!</div>
                <div class="result-score" id="resultScore">Pontua√ß√£o: 0/10</div>
                <div class="actions">
                    <button class="restart-btn" onclick="restartGame()">
                        üîÑ Jogar Novamente
                    </button>
                    <a href="admin.html" class="admin-btn">
                        ‚öôÔ∏è Gerenciar Perguntas
                    </a>
                </div>
            </div>
        </main>
    </div>

    <!-- Sons - URLs DIRETAS do GitHub -->
    <audio id="correctSound" preload="auto">
        <source src="acerto.mp3" type="audio/mpeg">
        <source src="acerto.wav" type="audio/wav">
    </audio>
    <audio id="wrongSound" preload="auto">
        <source src="erro.mp3" type="audio/mpeg">
        <source src="erro.wav" type="audio/wav">
    </audio>
    <audio id="winSound" preload="auto">
        <source src="vitoria.mp3" type="audio/mpeg">
        <source src="vitoria.wav" type="audio/wav">
    </audio>

    <script>
        // SHOW DO MILH√ÉO - SCRIPT PRINCIPAL COM TELA DE IN√çCIO

        console.log('üöÄ Show do Milh√£o - Script carregado!');

        // PERGUNTAS PR√â-CADASTRADAS COM N√çVEIS (40 PERGUNTAS COMPLETAS)
        const defaultQuestions = [
            // PERGUNTAS F√ÅCEIS (15)
            {
                pergunta: "Qual √© a cor padr√£o para uniformes em √°reas de produ√ß√£o de alimentos?",
                a: "Preto",
                b: "Azul",
                c: "Branco",
                d: "Verde",
                correta: "c",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© o principal objetivo do controle de pragas em ind√∫strias de alimentos?",
                a: "Reduzir custos",
                b: "Evitar contamina√ß√£o f√≠sica, qu√≠mica e biol√≥gica",
                c: "Melhorar apar√™ncia da f√°brica",
                d: "Cumprir normas ambientais",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© a consequ√™ncia de n√£o seguir as BPF?",
                a: "Redu√ß√£o de custos",
                b: "Risco √† sa√∫de e perda de credibilidade",
                c: "Melhor apar√™ncia dos alimentos",
                d: "Aumento da produ√ß√£o",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Por que √© proibido comer ou beber na √°rea de produ√ß√£o?",
                a: "Para evitar distra√ß√µes",
                b: "Para evitar contamina√ß√£o",
                c: "Para manter limpeza do uniforme",
                d: "Porque √© norma da empresa",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© a fun√ß√£o da touca na ind√∫stria de alimentos?",
                a: "Proteger do calor",
                b: "Evitar queda de cabelo nos alimentos",
                c: "Melhorar apar√™ncia do uniforme",
                d: "Substituir m√°scara",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "√â permitido usar esmalte ou unhas posti√ßas na √°rea de produ√ß√£o?",
                a: "Sim, desde que sejam claras",
                b: "Sim, com luvas",
                c: "N√£o",
                d: "Apenas em inspe√ß√µes",
                correta: "c",
                nivel: "facil"
            },
            {
                pergunta: "Por que n√£o se deve usar perfume forte na √°rea de produ√ß√£o?",
                a: "Para evitar alergias nos colegas",
                b: "Para evitar contamina√ß√£o qu√≠mica",
                c: "Para economizar",
                d: "Porque √© norma da empresa",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© a import√¢ncia do uniforme limpo?",
                a: "Melhorar apar√™ncia",
                b: "Evitar contamina√ß√£o",
                c: "Cumprir normas est√©ticas",
                d: "Reduzir custos",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Por que as paredes e pisos devem ser lisos e lav√°veis?",
                a: "Para facilitar limpeza",
                b: "Para reduzir custos",
                c: "Para melhorar apar√™ncia",
                d: "Para evitar acidentes",
                correta: "a",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© a import√¢ncia da ilumina√ß√£o adequada?",
                a: "Melhorar apar√™ncia",
                b: "Reduzir custos",
                c: "Facilitar inspe√ß√£o e limpeza",
                d: "Cumprir normas est√©ticas",
                correta: "c",
                nivel: "facil"
            },
            {
                pergunta: "O que deve ser feito antes de iniciar o trabalho na √°rea de produ√ß√£o?",
                a: "Tomar caf√©",
                b: "Fazer higieniza√ß√£o das m√£os",
                c: "Revisar e-mails",
                d: "Conversar com colegas",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© o objetivo principal das Boas Pr√°ticas de Fabrica√ß√£o?",
                a: "Aumentar a produ√ß√£o",
                b: "Garantir seguran√ßa dos alimentos",
                c: "Reduzir custos",
                d: "Melhorar sabor",
                correta: "b",
                nivel: "facil"
            },
            {
                pergunta: "O que significa a sigla BPF?",
                a: "Boas Pr√°ticas de Fabrica√ß√£o",
                b: "Bons Procedimentos Fabris",
                c: "Boas Pr√°ticas Fundamentais",
                d: "Bases Para Fabrica√ß√£o",
                correta: "a",
                nivel: "facil"
            },
            {
                pergunta: "Qual √© a temperatura ideal para conserva√ß√£o de alimentos refrigerados?",
                a: "Abaixo de 5¬∞C",
                b: "Entre 10¬∞C e 15¬∞C",
                c: "Entre 20¬∞C e 25¬∞C",
                d: "Acima de 30¬∞C",
                correta: "a",
                nivel: "facil"
            },
            {
                pergunta: "Por que √© importante manter os alimentos cobertos?",
                a: "Para economizar espa√ßo",
                b: "Para evitar contamina√ß√£o",
                c: "Para manter temperatura",
                d: "Para melhor apresenta√ß√£o",
                correta: "b",
                nivel: "facil"
            },

            // PERGUNTAS M√âDIAS (15)
            {
                pergunta: "Instru√ß√µes de trabalho ou procedimentos servem para:",
                a: "Evidenciar que existe um documento para aquele processo",
                b: "Instruir as pessoas a fazer determinada atividade e cabe as pessoas seguir",
                c: "N√£o servem para nada",
                d: "Mostrar para o auditor o papel",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© o principal objetivo da pasteuriza√ß√£o do leite?",
                a: "Melhorar sabor",
                b: "Eliminar bact√©rias patog√™nicas",
                c: "Reduzir gordura",
                d: "Aumentar viscosidade",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a frequ√™ncia m√≠nima recomendada para higieniza√ß√£o das m√£os em uma ind√∫stria de latic√≠nios?",
                a: "Apenas antes do turno",
                b: "Antes e depois de manipular alimentos",
                c: "Uma vez por hora",
                d: "Apenas ap√≥s usar sanit√°rio",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a fun√ß√£o do POP (Procedimento Operacional Padr√£o)?",
                a: "Definir metas financeiras",
                b: "Padronizar atividades cr√≠ticas",
                c: "Controlar estoque",
                d: "Treinar equipe de vendas",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a principal consequ√™ncia da aus√™ncia de barreira f√≠sica entre √°reas sujas e limpas?",
                a: "Aumento de produtividade",
                b: "Contamina√ß√£o cruzada",
                c: "Redu√ß√£o de custos",
                d: "Melhoria sensorial",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "O que significa contamina√ß√£o cruzada?",
                a: "Mistura de alimentos crus e cozidos",
                b: "Uso de utens√≠lios novos",
                c: "Higieniza√ß√£o inadequada das m√£os",
                d: "Mistura de temperos",
                correta: "a",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a fun√ß√£o das telas nas janelas?",
                a: "Melhorar ventila√ß√£o",
                b: "Diminuir ru√≠do",
                c: "Reduzir luz solar",
                d: "Evitar entrada de pragas",
                correta: "d",
                nivel: "medio"
            },
            {
                pergunta: "Por que √© proibido armazenar produtos qu√≠micos pr√≥ximos aos alimentos?",
                a: "Para evitar desperd√≠cio",
                b: "Para facilitar acesso",
                c: "Para reduzir custos",
                d: "Para evitar contamina√ß√£o",
                correta: "d",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a fun√ß√£o do controle de qualidade?",
                a: "Melhorar apar√™ncia",
                b: "Garantir seguran√ßa e conformidade",
                c: "Reduzir custos",
                d: "Cumprir normas est√©ticas",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a a√ß√£o correta ap√≥s derramamento de produto qu√≠mico?",
                a: "Limpar imediatamente seguindo POP",
                b: "Continuar produ√ß√£o",
                c: "Ignorar se for pouco",
                d: "Jogar √°gua e seguir",
                correta: "a",
                nivel: "medio"
            },
            {
                pergunta: "O que √© APPCC?",
                a: "An√°lise de Perigos e Pontos Cr√≠ticos de Controle",
                b: "An√°lise de Processos e Produ√ß√£o de Controle",
                c: "Avalia√ß√£o de Produtos e Procedimentos de Controle",
                d: "An√°lise de Padr√µes e Procedimentos de Controle",
                correta: "a",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a diferen√ßa entre limpeza e sanitiza√ß√£o?",
                a: "Limpeza remove sujidade, sanitiza√ß√£o reduz microrganismos",
                b: "S√£o a mesma coisa",
                c: "Limpeza √© para pisos, sanitiza√ß√£o para equipamentos",
                d: "Limpeza usa √°gua, sanitiza√ß√£o usa produtos qu√≠micos",
                correta: "a",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© o objetivo da rastreabilidade de alimentos?",
                a: "Aumentar pre√ßo do produto",
                b: "Permitir recall eficiente quando necess√°rio",
                c: "Reduzir custos de produ√ß√£o",
                d: "Melhorar embalagem",
                correta: "b",
                nivel: "medio"
            },
            {
                pergunta: "O que significa FIFO no controle de estoque?",
                a: "First In, First Out (Primeiro a entrar, primeiro a sair)",
                b: "Fast In, Fast Out (R√°pido a entrar, r√°pido a sair)",
                c: "Fresh In, Fresh Out (Fresco a entrar, fresco a sair)",
                d: "First In, First Order (Primeiro a entrar, primeiro pedido)",
                correta: "a",
                nivel: "medio"
            },
            {
                pergunta: "Qual √© a import√¢ncia da calibra√ß√£o de equipamentos?",
                a: "Garantir medi√ß√µes precisas e confi√°veis",
                b: "Reduzir consumo de energia",
                c: "Melhorar apar√™ncia dos equipamentos",
                d: "Aumentar velocidade de produ√ß√£o",
                correta: "a",
                nivel: "medio"
            },

            // PERGUNTAS DIF√çCEIS (10)
            {
                pergunta: "Quais s√£o os PCC's da unidade?",
                a: "Filtro, pasteurizador, detector de metais",
                b: "Bactofuga, detector de metais, desnatadeira",
                c: "Detector de metais, pasteurizador e Antibi√≥tico",
                d: "Antibi√≥tico, bactofuga e desnatadeira",
                correta: "c",
                nivel: "dificil"
            },
            {
                pergunta: "O filtro PPRO avalia qual risco?",
                a: "F√≠sico",
                b: "Biol√≥gico",
                c: "Qu√≠mico",
                d: "Alerg√™nico",
                correta: "a",
                nivel: "dificil"
            },
            {
                pergunta: "A an√°lise de antibi√≥tico √© um PCC de risco?",
                a: "F√≠sico",
                b: "Biol√≥gico",
                c: "Qu√≠mico",
                d: "Alerg√™nico",
                correta: "c",
                nivel: "dificil"
            },
            {
                pergunta: "O detector de metal √© um PCC de risco?",
                a: "F√≠sico",
                b: "Biol√≥gico",
                c: "Qu√≠mico",
                d: "Alerg√™nico",
                correta: "a",
                nivel: "dificil"
            },
            {
                pergunta: "O Pasteurizador √© um PCC de risco?",
                a: "F√≠sico",
                b: "Biol√≥gico",
                c: "Qu√≠mico",
                d: "Alerg√™nico",
                correta: "b",
                nivel: "dificil"
            },
            {
                pergunta: "Qual √© a principal fun√ß√£o do CIP (Cleaning in Place)?",
                a: "Limpeza manual de tanques",
                b: "Limpeza automatizada sem desmontagem",
                c: "Controle microbiol√≥gico",
                d: "Higieniza√ß√£o de uniformes",
                correta: "b",
                nivel: "dificil"
            },
            {
                pergunta: "O que √© um limite cr√≠tico no APPCC?",
                a: "Um valor que separa a aceitabilidade da inaceitabilidade",
                b: "O hor√°rio de trabalho dos funcion√°rios",
                c: "O custo m√°ximo de produ√ß√£o",
                d: "A temperatura ambiente da f√°brica",
                correta: "a",
                nivel: "dificil"
            },
            {
                pergunta: "Qual √© a diferen√ßa entre perigo e risco na seguran√ßa de alimentos?",
                a: "Perigo √© fonte potencial de dano, risco √© probabilidade de ocorr√™ncia",
                b: "S√£o sin√¥nimos",
                c: "Perigo √© qu√≠mico, risco √© biol√≥gico",
                d: "Perigo √© f√≠sico, risco √© microbiol√≥gico",
                correta: "a",
                nivel: "dificil"
            },
            {
                pergunta: "O que significa a sigla PPHO?",
                a: "Procedimento Padr√£o de Higiene Operacional",
                b: "Plano de Produ√ß√£o e Higiene Organizacional",
                c: "Programa de Preven√ß√£o de Higiene Ocupacional",
                d: "Procedimento de Prote√ß√£o e Higiene Operacional",
                correta: "a",
                nivel: "dificil"
            },
            {
                pergunta: "Qual √© a temperatura e tempo m√≠nimos para pasteuriza√ß√£o HTST do leite?",
                a: "72¬∞C por 15 segundos",
                b: "85¬∞C por 5 minutos",
                c: "63¬∞C por 30 minutos",
                d: "95¬∞C por 1 minuto",
                correta: "a",
                nivel: "dificil"
            }
        ];

        // Vari√°veis do jogo
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let canAnswer = true;
        let gameStarted = false;

        // Inicializa√ß√£o quando o DOM estiver pronto
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ P√°gina carregada - Mostrando tela de in√≠cio');
            // N√ÉO inicia o jogo automaticamente
            showStartScreen();
            
            // Pr√©-carrega os sons para evitar delay
            preloadSounds();
        });

        // Pr√©-carrega os sons
        function preloadSounds() {
            const sounds = ['correctSound', 'wrongSound', 'winSound'];
            sounds.forEach(soundId => {
                const sound = document.getElementById(soundId);
                if (sound) {
                    sound.load();
                    console.log(`üîä Pr√©-carregando som: ${soundId}`);
                }
            });
        }

        // Mostra a tela de in√≠cio
        function showStartScreen() {
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('gameInfo').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'none';
            gameStarted = false;
        }

        // Inicia o jogo quando o usu√°rio clicar em "Iniciar Jogo"
        function startGame() {
            console.log('üéÆ Iniciando novo jogo...');
            gameStarted = true;
            
            // Carrega perguntas do localStorage ou usa as padr√£o
            let allQuestions = JSON.parse(localStorage.getItem('perguntas'));
            if (!allQuestions || allQuestions.length === 0) {
                console.log('üìù Usando perguntas padr√£o...');
                allQuestions = defaultQuestions;
                localStorage.setItem('perguntas', JSON.stringify(allQuestions));
            }
            
            // Seleciona perguntas por n√≠vel: 3 f√°ceis, 4 m√©dias, 3 dif√≠ceis
            currentQuestions = selectQuestionsByLevel(allQuestions);
            currentQuestionIndex = 0;
            score = 0;
            canAnswer = true;
            
            console.log(`üìö ${currentQuestions.length} perguntas selecionadas por n√≠vel`);
            
            // Mostra a tela do jogo
            showGameScreen();
            
            // Atualiza a interface
            updateScoreDisplay();
            updateLevelIndicator();
            loadQuestion();
        }

        function selectQuestionsByLevel(allQuestions) {
            const easyQuestions = allQuestions.filter(q => q.nivel === 'facil');
            const mediumQuestions = allQuestions.filter(q => q.nivel === 'medio');
            const hardQuestions = allQuestions.filter(q => q.nivel === 'dificil');
            
            // Embaralha e seleciona as perguntas de cada n√≠vel
            const selectedEasy = shuffleArray(easyQuestions).slice(0, 3);
            const selectedMedium = shuffleArray(mediumQuestions).slice(0, 4);
            const selectedHard = shuffleArray(hardQuestions).slice(0, 3);
            
            console.log(`üéØ Selecionadas: ${selectedEasy.length} f√°ceis, ${selectedMedium.length} m√©dias, ${selectedHard.length} dif√≠ceis`);
            
            return [...selectedEasy, ...selectedMedium, ...selectedHard];
        }

        function shuffleArray(array) {
            return [...array].sort(() => Math.random() - 0.5);
        }

        // Mostra a tela do jogo
        function showGameScreen() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameInfo').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('resultScreen').style.display = 'none';
        }

        // Mostra a tela de resultado
        function showResultScreen() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameInfo').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            const resultScore = document.getElementById('resultScore');
            
            resultScore.textContent = `Pontua√ß√£o: ${score}/10`;
            
            if (score === 10) {
                resultTitle.textContent = "üéâ PARAB√âNS! üéâ";
                resultMessage.textContent = "Voc√™ √© um verdadeiro milion√°rio! Acertou todas as perguntas!";
                playSound('winSound');
            } else if (score >= 7) {
                resultTitle.textContent = "üëè √ìtimo!";
                resultMessage.textContent = "Voc√™ foi muito bem! Quase chegou l√°!";
            } else if (score >= 5) {
                resultTitle.textContent = "üëç Bom trabalho!";
                resultMessage.textContent = "Voc√™ foi bem, mas pode melhorar!";
            } else {
                resultTitle.textContent = "üí™ Continue tentando!";
                resultMessage.textContent = "N√£o desanime! Tente novamente!";
            }
        }

        function updateScoreDisplay() {
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('score').textContent = score;
        }

        function updateLevelIndicator() {
            const levelIndicator = document.getElementById('levelIndicator');
            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            if (currentQuestion) {
                let levelText = '';
                let levelClass = '';
                
                switch(currentQuestion.nivel) {
                    case 'facil':
                        levelText = 'F√°cil';
                        levelClass = 'level-facil';
                        break;
                    case 'medio':
                        levelText = 'M√©dio';
                        levelClass = 'level-medio';
                        break;
                    case 'dificil':
                        levelText = 'Dif√≠cil';
                        levelClass = 'level-dificil';
                        break;
                }
                
                levelIndicator.textContent = levelText;
                levelIndicator.className = 'level-indicator ' + levelClass;
            }
        }

        function loadQuestion() {
            if (!canAnswer || !gameStarted) return;
            
            const question = currentQuestions[currentQuestionIndex];
            console.log(`‚ùì Carregando pergunta ${currentQuestionIndex + 1} (${question.nivel}): ${question.pergunta}`);
            
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            
            // Atualiza a pergunta
            questionElement.innerHTML = `<h2>${question.pergunta}</h2>`;
            
            // Limpa op√ß√µes anteriores
            optionsElement.innerHTML = '';
            
            // Cria os bot√µes de op√ß√£o
            const opcoes = ['a', 'b', 'c', 'd'];
            opcoes.forEach(opcao => {
                const botao = document.createElement('button');
                botao.className = 'option-btn';
                botao.textContent = question[opcao];
                botao.setAttribute('data-letter', opcao.toUpperCase());
                botao.onclick = function() {
                    checkAnswer(opcao, this);
                };
                optionsElement.appendChild(botao);
            });
            
            // Atualiza indicador de n√≠vel
            updateLevelIndicator();
            
            console.log('‚úÖ Pergunta carregada com sucesso');
        }

        // Fun√ß√£o para tocar sons
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            if (sound) {
                sound.currentTime = 0; // Reinicia o som
                sound.play().catch(e => {
                    console.log(`üîá Erro ao tocar som ${soundId}:`, e);
                    // Fallback: tenta carregar o som novamente
                    console.log('üîÑ Tentando recarregar o som...');
                    sound.load();
                    setTimeout(() => {
                        sound.play().catch(e2 => {
                            console.log(`üîá Falha ao tocar som ${soundId} ap√≥s recarregar:`, e2);
                        });
                    }, 100);
                });
            } else {
                console.log(`üîá Elemento de √°udio n√£o encontrado: ${soundId}`);
            }
        }
        
        function checkAnswer(selectedOption, clickedButton) {
            if (!canAnswer || !gameStarted) return;
            
            console.log(`üéØ Resposta selecionada: ${selectedOption}`);
            
            canAnswer = false;
            const correctOption = currentQuestions[currentQuestionIndex].correta;
            const optionsElement = document.getElementById('options');
            const allButtons = optionsElement.getElementsByClassName('option-btn');
            
            // Desabilita todos os bot√µes
            for (let btn of allButtons) {
                btn.style.pointerEvents = 'none';
            }
            
            if (selectedOption === correctOption) {
                // Resposta correta
                console.log('üéâ Resposta correta!');
                score++;
                playSound('correctSound');
                clickedButton.classList.add('correct');
            } else {
                // Resposta errada
                console.log('‚ùå Resposta errada!');
                playSound('wrongSound');
                clickedButton.classList.add('wrong');
                
                // Mostra a resposta correta
                for (let btn of allButtons) {
                    if (btn.getAttribute('data-letter').toLowerCase() === correctOption) {
                        btn.classList.add('correct');
                    }
                }
            }
            
            // Atualiza o placar
            updateScoreDisplay();
            
            // Pr√≥xima pergunta ou final do jogo
            setTimeout(() => {
                currentQuestionIndex++;
                
                if (currentQuestionIndex < currentQuestions.length) {
                    canAnswer = true;
                    loadQuestion();
                } else {
                    // Fim do jogo
                    showResultScreen();
                }
            }, 2000);
        }

        function restartGame() {
            showStartScreen();
        }

        // Fun√ß√£o para debug
        window.debugGame = function() {
            console.log('üêõ Debug do jogo:');
            console.log('- LocalStorage:', localStorage.getItem('perguntas'));
            console.log('- Perguntas atuais:', currentQuestions);
            console.log('- Score:', score);
            console.log('- Game Started:', gameStarted);
        };
    </script>
</body>
</html>
